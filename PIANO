-- AUTO PIANO - ÄÃNH THEO NHáº C DORAEMON
-- CÃ³ nhá»‹p cháº­m + nhanh

getgenv().AutoPiano = false

local VIM = game:GetService("VirtualInputManager")

-- tá»‘c Ä‘á»™
local SLOW = 3.5
local FAST = 2
local GAP  = 3 -- nghá»‰ khi gáº·p dáº¥u ,

-- map sá»‘ -> phÃ­m
local KeyMap = {
    [1]="One",[2]="Two",[3]="Three",[4]="Four",[5]="Five",
    [6]="Six",[7]="Seven",[8]="Eight",[9]="Nine",[10]="Zero"
}

-- báº£n nháº¡c
local Song = {
    {1}, {4,4,true}, {6}, {9}, {6}, {8}, ",",
    {8}, {9}, {8}, {6}, {7}, {6}, {5}, {2}, {5}, {5},
    {7}, {10}, {9}, {8}, {7}, {7}, {6}, {2}, {3}, {4}, {5},

    {1}, {4,4,true}, {6}, {9}, {6}, {8}, ",",
    {8}, {9}, {8}, {6}, {7}, {6}, {5}, {2}, {5}, {5},
    {7}, {10}, {9}, {8}, {7}, {7}, {6}, {3}, {5}, {4},

    {9}, {9}, {8}, {7}, {8}, {9}, {8}, ",",
    {5}, {6}, {7}, {5}, {8}, {9}, {5}, {6}, {7}, {5}, {8}, {9}, {8}, {7}, ",",

    {5}, {10}, {9}, {8}, {9}, {8}, {7}, {8}, {9}, {6}, {5}, {4}
}

local function press(key)
    VIM:SendKeyEvent(true, Enum.KeyCode[key], false, game)
    task.wait(0.03)
    VIM:SendKeyEvent(false, Enum.KeyCode[key], false, game)
end

task.spawn(function()
    while true do
        task.wait(0.1)
        if getgenv().AutoPiano then
            for _, note in ipairs(Song) do
                if not getgenv().AutoPiano then break end

                if note == "," then
                    task.wait(GAP)
                else
                    for i, num in ipairs(note) do
                        if num ~= true then
                            press(KeyMap[num])
                            task.wait(note[3] and FAST or SLOW)
                        end
                    end
                end
            end
        end
    end
end)

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "AutoPiano_Number"

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0,260,0,150)
frame.Position = UDim2.new(0.05,0,0.4,0)
frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0,12)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0,40)
title.Text = "ðŸŽ¹ Auto Piano (Number)"
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 17

local btn = Instance.new("TextButton", frame)
btn.Size = UDim2.new(0.8,0,0,45)
btn.Position = UDim2.new(0.1,0,0.55,0)
btn.Text = "OFF"
btn.Font = Enum.Font.GothamBold
btn.TextSize = 16
btn.TextColor3 = Color3.new(1,1,1)
btn.BackgroundColor3 = Color3.fromRGB(170,0,0)
Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)

btn.MouseButton1Click:Connect(function()
    getgenv().AutoPiano = not getgenv().AutoPiano
    btn.Text = getgenv().AutoPiano and "ON" or "OFF"
    btn.BackgroundColor3 = getgenv().AutoPiano and Color3.fromRGB(0,170,0) or Color3.fromRGB(170,0,0)
end)
